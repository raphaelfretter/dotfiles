# SkyyySi's Nordic i3 config file
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

### Variables for settings (This makes changing them WAY easyer!) ###
set $mod                             Mod4
set $smod                            Shift
set $wm_setting_font                 pango:Hack Nerd Font, Semibold 11
set $wm_setting_border_size          0
set $wm_setting_key_left             Left
set $wm_setting_key_down             Down
set $wm_setting_key_up               Up
set $wm_setting_key_right            Right

set $wm_setting_app_terminal         alacritty
set $wm_setting_app_browser          vivaldi
set $wm_setting_app_launcher         rofi
set $wm_setting_app_compositor       picom

### Applications ###
# Start a terminal emulator
bindsym $mod+Return exec $wm_setting_app_terminal

# Start a web browser
bindsym $mod+$smod+Return exec $wm_setting_app_browser

# Start a program launcher
bindsym $mod+d exec $wm_setting_app_launcher

# Run a window compositor (for effects like transparency or full VSync)
exec_always --no-startup-id $wm_setting_app_compositor

### Workspaces ###
# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1  "    1    "
set $ws2  "    2    "
set $ws3  "    3    "
set $ws4  "    4    "
set $ws5  "    5    "
set $ws6  "    6    "
set $ws7  "    7    "
set $ws8  "    8    "
set $ws9  "    9    "
set $ws10 "    10    "

# Switch to workspace n
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# Move focused container to workspace n
bindsym $mod+$smod+1 move container to workspace $ws1
bindsym $mod+$smod+2 move container to workspace $ws2
bindsym $mod+$smod+3 move container to workspace $ws3
bindsym $mod+$smod+4 move container to workspace $ws4
bindsym $mod+$smod+5 move container to workspace $ws5
bindsym $mod+$smod+6 move container to workspace $ws6
bindsym $mod+$smod+7 move container to workspace $ws7
bindsym $mod+$smod+8 move container to workspace $ws8
bindsym $mod+$smod+9 move container to workspace $ws9
bindsym $mod+$smod+0 move container to workspace $ws10

### Window sizes and positions ###
# Cange focus
bindsym $mod+$wm_setting_key_left        focus left
bindsym $mod+$wm_setting_key_down        focus down
bindsym $mod+$wm_setting_key_up          focus up
bindsym $mod+$wm_setting_key_right       focus right

# Move focused window
bindsym $mod+$smod+$wm_setting_key_left  move left
bindsym $mod+$smod+$wm_setting_key_down  move down
bindsym $mod+$smod+$wm_setting_key_up    move up
bindsym $mod+$smod+$wm_setting_key_right move right

# Resize window (you can also use the mouse for that)
mode "resize" {
#	These bindings trigger as soon as you enter the resize mode

#	Pressing left will shrink the window’s width.
#	Pressing right will grow the window’s width.
#	Pressing up will shrink the window’s height.
#	Pressing down will grow the window’s height.
	bindsym $wm_setting_key_left  resize shrink width 10 px or 10 ppt
	bindsym $wm_setting_key_down  resize grow height 10 px or 10 ppt
	bindsym $wm_setting_key_up    resize shrink height 10 px or 10 ppt
	bindsym $wm_setting_key_right resize grow width 10 px or 10 ppt

#	Resize the gap width and height
	bindsym $smod+$wm_setting_key_left  gaps horizontal minus 5
	bindsym $smod+$wm_setting_key_down  gaps horizontal plus 5
	bindsym $smod+$wm_setting_key_up    gaps vertical minus 5
	bindsym $smod+$wm_setting_key_right gaps vertical plus 5

#	Back to normal: Enter or Escape or $mod+r
	bindsym Return mode "default"
	bindsym Escape mode "default"
	bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

### Gaps ###
gaps inner 10

### Borders ###
default_border pixel $wm_setting_border_size
default_floating_border pixel $wm_setting_border_size
smart_borders on

### Miscellaneous settings ###
# Set the font used for titlebars (which are hidden here)
font $wm_setting_font

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Enter fullscreen mode for the focused window
bindsym $mod+f fullscreen toggle

# Toggle between tiling and floating
bindsym $mod+$smod+f floating toggle

# Kill the focused window
bindsym $mod+q kill

# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+$smod+r restart

# Start polybar
exec_always --no-startup-id ~/.config/i3/polybar.sh

# exit-menu
bindsym $mod+Shift+e exec --no-startup-id ~/.config/i3/scripts/powermenu

# Lock the system
# lock with a picture:
#bindsym $mod+l exec --no-startup-id i3lock -i  ~/.config/i3/i3-lock-screen.png -p default|win -t
# lock by blurring the screen:
bindsym $mod+l exec --no-startup-id ~/.config/i3/scripts/blur-lock
# lock in case after sleep
exec --no-startup-id xss-lock -l ~/.config/i3/scripts/blur-lock

# keybinding in fancy rofi (automated):
bindsym F1 exec --no-startup-id ~/.config/i3/scripts/keyhint-2

# volume
# use meta keys without showing osc
#bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
#bindsym XF86AudioLowerVolume exec --no-startup-id amixer -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks
# use meta keys showing osc using dunst
bindsym XF86AudioRaiseVolume exec --no-startup-id ~/.config/i3/scripts/volume_brightness.sh volume_up
bindsym XF86AudioLowerVolume exec --no-startup-id ~/.config/i3/scripts/volume_brightness.sh volume_down

# gradular volume control
bindsym $mod+XF86AudioRaiseVolume exec --no-startup-id amixer -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
bindsym $mod+XF86AudioLowerVolume exec --no-startup-id amixer -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks

# mute
#bindsym XF86AudioMute exec --no-startup-id amixer sset Master toggle && killall -USR1 i3blocks
# use meta keys showing osc using dunst
bindsym XF86AudioMute exec --no-startup-id ~/.config/i3/scripts/volume_brightness.sh volume_mute

# mic mute toggle
bindsym XF86AudioMicMute exec amixer sset Capture toggle

# audio control
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause 
# Above line will also work for pausing
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

# toggle between audio devices for output
bindsym $mod+p exec --no-startup-id ~/.config/i3/scripts/audio-device-switch

# Power Profiles menu switcher (rofi)
bindsym $mod+Shift+p exec --no-startup-id ~/.config/i3/scripts/power-profiles

#get auth work with polkit-gnome
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1$a

# set wallpaper
# exec --no-startup-id sleep 2 && nitrogen --restore
exec --no-startup-id sleep 1 && feh --bg-fill ~/Pictures/backgrounds/retro-scifi.jpg
# exec --no-startup-id feh --bg-fill ~/Pictures/backgrounds/retro-scifi.jpg

# set powersavings for display:
exec --no-startup-id xset s 480 dpms 600 600 600

exec --no-startup-id /usr/bin/dunst

exec_always --no-startup-id autotiling

## rofi bindings fancy application menu ($mod+d /F9 optional disabled)

bindsym $mod+space exec --no-startup-id rofi -modi drun -show drun \
		-config ~/.config/rofi/rofidmenu.rasi

#bindsym F9 exec --no-startup-id rofi -modi drun -show drun \
#		-config ~/.config/rofi/rofidmenu.rasi

## rofi bindings for window menu ($mod+t /F10 optional disabled)

bindsym $mod+t exec --no-startup-id rofi -show window \
		-config ~/.config/rofi/rofidmenu.rasi

#bindsym F10 exec --no-startup-id rofi -show window \
#		-config ~/.config/rofi/rofidmenu.rasi

## rofi bindings to manage clipboard (install rofi-greenclip from the AUR)

#exec --no-startup-id greenclip daemon>/dev/null
#bindsym $mod+c exec --no-startup-id rofi -modi "clipboard:greenclip print" -show clipboard \
#		-config ~/.config/rofi/rofidmenu.rasi

# Exit i3 (logs you out of your X session)
# bindsym $mod+$smod+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"
